var Module=void 0!==Module?Module:{},moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=(status,toThrow)=>{throw toThrow},ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(Module.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var read_,readAsync,readBinary,scriptDirectory="";function locateFile(path){return Module.locateFile?Module.locateFile(path,scriptDirectory):scriptDirectory+path}if(ENVIRONMENT_IS_NODE){if("undefined"==typeof process||!process.release||"node"!==process.release.name)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var nodeVersion=process.versions.node,numericVersion=nodeVersion.split(".").slice(0,3);if((numericVersion=1e4*numericVersion[0]+100*numericVersion[1]+1*numericVersion[2].split("-")[0])<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+nodeVersion+")");var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=(filename,binary)=>(filename=isFileURI(filename)?new URL(filename):nodePath.normalize(filename),fs.readFileSync(filename,binary?void 0:"utf8")),readBinary=filename=>{var ret=read_(filename,!0);return ret.buffer||(ret=new Uint8Array(ret)),assert(ret.buffer),ret},readAsync=(filename,onload,onerror,binary=!0)=>{filename=isFileURI(filename)?new URL(filename):nodePath.normalize(filename),fs.readFile(filename,binary?void 0:"utf8",((err,data)=>{err?onerror(err):onload(binary?data.buffer:data)}))},!Module.thisProgram&&process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),process.on("uncaughtException",(ex=>{if(!("unwind"===ex||ex instanceof ExitStatus||ex.context instanceof ExitStatus))throw ex})),quit_=(status,toThrow)=>{throw process.exitCode=status,toThrow},Module.inspect=()=>"[Emscripten Module object]"}else if(ENVIRONMENT_IS_SHELL){if("object"==typeof process&&"function"==typeof require||"object"==typeof window||"function"==typeof importScripts)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");"undefined"!=typeof read&&(read_=read),readBinary=f=>{if("function"==typeof readbuffer)return new Uint8Array(readbuffer(f));let data=read(f,"binary");return assert("object"==typeof data),data},readAsync=(f,onload,onerror)=>{setTimeout((()=>onload(readBinary(f))))},"undefined"==typeof clearTimeout&&(globalThis.clearTimeout=id=>{}),"undefined"==typeof setTimeout&&(globalThis.setTimeout=f=>"function"==typeof f?f():abort()),"undefined"!=typeof scriptArgs?arguments_=scriptArgs:"undefined"!=typeof arguments&&(arguments_=arguments),"function"==typeof quit&&(quit_=(status,toThrow)=>{throw setTimeout((()=>{if(!(toThrow instanceof ExitStatus)){let toLog=toThrow;toThrow&&"object"==typeof toThrow&&toThrow.stack&&(toLog=[toThrow,toThrow.stack]),err(`exiting due to exception: ${toLog}`)}quit(status)})),toThrow}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)}else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw new Error("environment detection error");if(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:"undefined"!=typeof document&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=0!==scriptDirectory.indexOf("blob:")?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"","object"!=typeof window&&"function"!=typeof importScripts)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");read_=url=>{var xhr=new XMLHttpRequest;return xhr.open("GET",url,!1),xhr.send(null),xhr.responseText},ENVIRONMENT_IS_WORKER&&(readBinary=url=>{var xhr=new XMLHttpRequest;return xhr.open("GET",url,!1),xhr.responseType="arraybuffer",xhr.send(null),new Uint8Array(xhr.response)}),readAsync=(url,onload,onerror)=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,!0),xhr.responseType="arraybuffer",xhr.onload=()=>{200==xhr.status||0==xhr.status&&xhr.response?onload(xhr.response):onerror()},xhr.onerror=onerror,xhr.send(null)}}var wasmBinary,wasmMemory,out=Module.print||console.log.bind(console),err=Module.printErr||console.error.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,checkIncomingModuleAPI(),Module.arguments&&(arguments_=Module.arguments),legacyModuleProp("arguments","arguments_"),Module.thisProgram&&(thisProgram=Module.thisProgram),legacyModuleProp("thisProgram","thisProgram"),Module.quit&&(quit_=Module.quit),legacyModuleProp("quit","quit_"),assert(void 0===Module.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),assert(void 0===Module.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),assert(void 0===Module.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),assert(void 0===Module.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),assert(void 0===Module.read,"Module.read option was removed (modify read_ in JS)"),assert(void 0===Module.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),assert(void 0===Module.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),assert(void 0===Module.setWindowTitle,"Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),assert(void 0===Module.TOTAL_MEMORY,"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),legacyModuleProp("asm","wasmExports"),legacyModuleProp("read","read_"),legacyModuleProp("readAsync","readAsync"),legacyModuleProp("readBinary","readBinary"),legacyModuleProp("setWindowTitle","setWindowTitle"),assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable."),Module.wasmBinary&&(wasmBinary=Module.wasmBinary),legacyModuleProp("wasmBinary","wasmBinary"),"object"!=typeof WebAssembly&&abort("no native wasm support detected");var EXITSTATUS,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,ABORT=!1;function assert(condition,text){condition||abort("Assertion failed"+(text?": "+text:""))}function updateMemoryViews(){var b=wasmMemory.buffer;Module.HEAP8=HEAP8=new Int8Array(b),Module.HEAP16=HEAP16=new Int16Array(b),Module.HEAPU8=HEAPU8=new Uint8Array(b),Module.HEAPU16=HEAPU16=new Uint16Array(b),Module.HEAP32=HEAP32=new Int32Array(b),Module.HEAPU32=HEAPU32=new Uint32Array(b),Module.HEAPF32=HEAPF32=new Float32Array(b),Module.HEAPF64=HEAPF64=new Float64Array(b)}function writeStackCookie(){var max=_emscripten_stack_get_end();assert(0==(3&max)),0==max&&(max+=4),HEAPU32[max>>2]=34821223,checkInt32(34821223),HEAPU32[max+4>>2]=2310721022,checkInt32(2310721022),HEAPU32[0]=1668509029,checkInt32(1668509029)}function checkStackCookie(){if(!ABORT){var max=_emscripten_stack_get_end();0==max&&(max+=4);var cookie1=HEAPU32[max>>2],cookie2=HEAPU32[max+4>>2];34821223==cookie1&&2310721022==cookie2||abort(`Stack overflow! Stack cookie has been overwritten at ${ptrToString(max)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${ptrToString(cookie2)} ${ptrToString(cookie1)}`),1668509029!=HEAPU32[0]&&abort("Runtime error: The application has corrupted its heap memory area (address zero)!")}}assert(!Module.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),assert("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&null!=Int32Array.prototype.subarray&&null!=Int32Array.prototype.set,"JS engine does not provide full typed array support"),assert(!Module.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),assert(!Module.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically"),function(){var h16=new Int16Array(1),h8=new Int8Array(h16.buffer);if(h16[0]=25459,115!==h8[0]||99!==h8[1])throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"}();var __ATPRERUN__=[],__ATINIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){assert(!runtimeInitialized),runtimeInitialized=!0,checkStackCookie(),setStackLimits(),callRuntimeCallbacks(__ATINIT__)}function postRun(){if(checkStackCookie(),Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null,runDependencyTracking={};function addRunDependency(id){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),id?(assert(!runDependencyTracking[id]),runDependencyTracking[id]=1,null===runDependencyWatcher&&"undefined"!=typeof setInterval&&(runDependencyWatcher=setInterval((()=>{if(ABORT)return clearInterval(runDependencyWatcher),void(runDependencyWatcher=null);var shown=!1;for(var dep in runDependencyTracking)shown||(shown=!0,err("still waiting on run dependencies:")),err(`dependency: ${dep}`);shown&&err("(end of list)")}),1e4))):err("warning: run dependency added without ID")}function removeRunDependency(id){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),id?(assert(runDependencyTracking[id]),delete runDependencyTracking[id]):err("warning: run dependency removed without ID"),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var callback=dependenciesFulfilled;dependenciesFulfilled=null,callback()}}function abort(what){throw Module.onAbort&&Module.onAbort(what),err(what="Aborted("+what+")"),ABORT=!0,EXITSTATUS=1,new WebAssembly.RuntimeError(what)}var FS={error(){abort("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){FS.error()},createDataFile(){FS.error()},createPreloadedFile(){FS.error()},createLazyFile(){FS.error()},open(){FS.error()},mkdev(){FS.error()},registerDevice(){FS.error()},analyzePath(){FS.error()},ErrnoError(){FS.error()}};Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile;var wasmBinaryFile,dataURIPrefix="data:application/octet-stream;base64,",isDataURI=filename=>filename.startsWith(dataURIPrefix),isFileURI=filename=>filename.startsWith("file://");function createExportWrapper(name){return function(){assert(runtimeInitialized,`native function \`${name}\` called before runtime initialization`);var f=wasmExports[name];return assert(f,`exported native function \`${name}\` not found`),f.apply(null,arguments)}}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(file);throw"both async and sync fetching of the wasm failed"}function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if("function"==typeof fetch&&!isFileURI(binaryFile))return fetch(binaryFile,{credentials:"same-origin"}).then((response=>{if(!response.ok)throw"failed to load wasm binary file at '"+binaryFile+"'";return response.arrayBuffer()})).catch((()=>getBinarySync(binaryFile)));if(readAsync)return new Promise(((resolve,reject)=>{readAsync(binaryFile,(response=>resolve(new Uint8Array(response))),reject)}))}return Promise.resolve().then((()=>getBinarySync(binaryFile)))}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then((binary=>WebAssembly.instantiate(binary,imports))).then((instance=>instance)).then(receiver,(reason=>{err(`failed to asynchronously prepare wasm: ${reason}`),isFileURI(wasmBinaryFile)&&err(`warning: Loading from a file URI (${wasmBinaryFile}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),abort(reason)}))}function instantiateAsync(binary,binaryFile,imports,callback){return binary||"function"!=typeof WebAssembly.instantiateStreaming||isDataURI(binaryFile)||isFileURI(binaryFile)||ENVIRONMENT_IS_NODE||"function"!=typeof fetch?instantiateArrayBuffer(binaryFile,imports,callback):fetch(binaryFile,{credentials:"same-origin"}).then((response=>WebAssembly.instantiateStreaming(response,imports).then(callback,(function(reason){return err(`wasm streaming compile failed: ${reason}`),err("falling back to ArrayBuffer instantiation"),instantiateArrayBuffer(binaryFile,imports,callback)}))))}function createWasm(){var info={env:wasmImports,wasi_snapshot_preview1:wasmImports};function receiveInstance(instance,module){return wasmExports=instance.exports,assert(wasmMemory=wasmExports.memory,"memory not found in wasm exports"),updateMemoryViews(),assert(wasmTable=wasmExports.__indirect_function_table,"table not found in wasm exports"),addOnInit(wasmExports.__wasm_call_ctors),removeRunDependency("wasm-instantiate"),wasmExports}addRunDependency("wasm-instantiate");var trueModule=Module;if(Module.instantiateWasm)try{return Module.instantiateWasm(info,receiveInstance)}catch(e){return err(`Module.instantiateWasm callback failed with error: ${e}`),!1}return instantiateAsync(wasmBinary,wasmBinaryFile,info,(function(result){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),trueModule=null,receiveInstance(result.instance)})),{}}function legacyModuleProp(prop,newName,incomming=!0){Object.getOwnPropertyDescriptor(Module,prop)||Object.defineProperty(Module,prop,{configurable:!0,get(){abort(`\`Module.${prop}\` has been replaced by \`${newName}\``+(incomming?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":""))}})}function ignoredModuleProp(prop){Object.getOwnPropertyDescriptor(Module,prop)&&abort(`\`Module.${prop}\` was supplied but \`${prop}\` not included in INCOMING_MODULE_JS_API`)}function isExportedByForceFilesystem(name){return"FS_createPath"===name||"FS_createDataFile"===name||"FS_createPreloadedFile"===name||"FS_unlink"===name||"addRunDependency"===name||"FS_createLazyFile"===name||"FS_createDevice"===name||"removeRunDependency"===name}function missingGlobal(sym,msg){"undefined"!=typeof globalThis&&Object.defineProperty(globalThis,sym,{configurable:!0,get(){warnOnce("`"+sym+"` is not longer defined by emscripten. "+msg)}})}function missingLibrarySymbol(sym){"undefined"==typeof globalThis||Object.getOwnPropertyDescriptor(globalThis,sym)||Object.defineProperty(globalThis,sym,{configurable:!0,get(){var msg="`"+sym+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line",librarySymbol=sym;librarySymbol.startsWith("_")||(librarySymbol="$"+sym),msg+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+librarySymbol+"')",isExportedByForceFilesystem(sym)&&(msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),warnOnce(msg)}}),unexportedRuntimeSymbol(sym)}function unexportedRuntimeSymbol(sym){Object.getOwnPropertyDescriptor(Module,sym)||Object.defineProperty(Module,sym,{configurable:!0,get(){var msg="'"+sym+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";isExportedByForceFilesystem(sym)&&(msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),abort(msg)}})}wasmBinaryFile=scriptDirectory+"../webassembly/girweb.wasm",missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),missingGlobal("asm","Please use wasmExports instead");var MAX_UINT8=255,MAX_UINT16=65535,MAX_UINT32=2**32-1,MAX_UINT53=2**53-1,MAX_UINT64=2**64-1,MIN_INT8=-127,MIN_INT16=-32767,MIN_INT32=1-2**31,MIN_INT53=1-2**52,MIN_INT64=1-2**63;function checkInt(value,bits,min,max){assert(Number.isInteger(Number(value)),"attempt to write non-integer ("+value+") into integer heap"),assert(value<=max,"value ("+value+") too large to write as "+bits+"-bit value"),assert(value>=min,"value ("+value+") too small to write as "+bits+"-bit value")}var checkInt8=value=>checkInt(value,8,MIN_INT8,MAX_UINT8),checkInt16=value=>checkInt(value,16,MIN_INT16,MAX_UINT16),checkInt32=value=>checkInt(value,32,MIN_INT32,MAX_UINT32);function dbg(text){console.warn.apply(console,arguments)}var ASM_CONSTS={108328:$0=>{console.log(Module.UTF8ToString($0))},108370:$0=>{var element=document.getElementById("console");element.value+=Module.UTF8ToString($0),element.scrollTop=element.scrollHeight}};function ExitStatus(status){this.name="ExitStatus",this.message=`Program terminated with exit(${status})`,this.status=status}var callRuntimeCallbacks=callbacks=>{for(;callbacks.length>0;)callbacks.shift()(Module)},noExitRuntime=Module.noExitRuntime||!0,ptrToString=ptr=>(assert("number"==typeof ptr),"0x"+(ptr>>>=0).toString(16).padStart(8,"0")),setStackLimits=()=>{var stackLow=_emscripten_stack_get_base(),stackHigh=_emscripten_stack_get_end();___set_stack_limits(stackLow,stackHigh)},warnOnce=text=>{warnOnce.shown||(warnOnce.shown={}),warnOnce.shown[text]||(warnOnce.shown[text]=1,ENVIRONMENT_IS_NODE&&(text="warning: "+text),err(text))};function ExceptionInfo(excPtr){this.excPtr=excPtr,this.ptr=excPtr-24,this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type},this.get_type=function(){return HEAPU32[this.ptr+4>>2]},this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor},this.get_destructor=function(){return HEAPU32[this.ptr+8>>2]},this.set_caught=function(caught){caught=caught?1:0,HEAP8[this.ptr+12>>0]=caught,checkInt8(caught)},this.get_caught=function(){return 0!=HEAP8[this.ptr+12>>0]},this.set_rethrown=function(rethrown){rethrown=rethrown?1:0,HEAP8[this.ptr+13>>0]=rethrown,checkInt8(rethrown)},this.get_rethrown=function(){return 0!=HEAP8[this.ptr+13>>0]},this.init=function(type,destructor){this.set_adjusted_ptr(0),this.set_type(type),this.set_destructor(destructor)},this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr},this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2]},this.get_exception_ptr=function(){if(___cxa_is_pointer_type(this.get_type()))return HEAPU32[this.excPtr>>2];var adjusted=this.get_adjusted_ptr();return 0!==adjusted?adjusted:this.excPtr}}var exceptionLast=0,uncaughtExceptionCount=0,___cxa_throw=(ptr,type,destructor)=>{new ExceptionInfo(ptr).init(type,destructor),exceptionLast=ptr,uncaughtExceptionCount++,assert(!1,"Exception thrown, but exception catching is not enabled. Compile with -sNO_DISABLE_EXCEPTION_CATCHING or -sEXCEPTION_CATCHING_ALLOWED=[..] to catch.")},___handle_stack_overflow=requested=>{var base=_emscripten_stack_get_base(),end=_emscripten_stack_get_end();abort(`stack overflow (Attempt to set SP to ${ptrToString(requested)}, with stack limits [${ptrToString(end)} - ${ptrToString(base)}]). If you require more stack space build with -sSTACK_SIZE=<bytes>`)},UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,UTF8ArrayToString=(heapOrArray,idx,maxBytesToRead)=>{for(var endIdx=idx+maxBytesToRead,endPtr=idx;heapOrArray[endPtr]&&!(endPtr>=endIdx);)++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder)return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));for(var str="";idx<endPtr;){var u0=heapOrArray[idx++];if(128&u0){var u1=63&heapOrArray[idx++];if(192!=(224&u0)){var u2=63&heapOrArray[idx++];if(224==(240&u0)?u0=(15&u0)<<12|u1<<6|u2:(240!=(248&u0)&&warnOnce("Invalid UTF-8 leading byte "+ptrToString(u0)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),u0=(7&u0)<<18|u1<<12|u2<<6|63&heapOrArray[idx++]),u0<65536)str+=String.fromCharCode(u0);else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|1023&ch)}}else str+=String.fromCharCode((31&u0)<<6|u1)}else str+=String.fromCharCode(u0)}return str},UTF8ToString=(ptr,maxBytesToRead)=>(assert("number"==typeof ptr),ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):""),SYSCALLS={varargs:void 0,get(){assert(null!=SYSCALLS.varargs);var ret=HEAP32[+SYSCALLS.varargs>>2];return SYSCALLS.varargs+=4,ret},getp:()=>SYSCALLS.get(),getStr:ptr=>UTF8ToString(ptr)};function ___syscall_fcntl64(fd,cmd,varargs){return SYSCALLS.varargs=varargs,0}function ___syscall_ioctl(fd,op,varargs){return SYSCALLS.varargs=varargs,0}function ___syscall_openat(dirfd,path,flags,varargs){SYSCALLS.varargs=varargs,abort("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")}var embind_charCodes,BindingError,InternalError,__embind_register_bigint=(primitiveType,name,size,minRange,maxRange)=>{},embind_init_charCodes=()=>{for(var codes=new Array(256),i=0;i<256;++i)codes[i]=String.fromCharCode(i);embind_charCodes=codes},readLatin1String=ptr=>{for(var ret="",c=ptr;HEAPU8[c];)ret+=embind_charCodes[HEAPU8[c++]];return ret},awaitingDependencies={},registeredTypes={},typeDependencies={},throwBindingError=message=>{throw new BindingError(message)},throwInternalError=message=>{throw new InternalError(message)},whenDependentTypesAreResolved=(myTypes,dependentTypes,getTypeConverters)=>{function onComplete(typeConverters){var myTypeConverters=getTypeConverters(typeConverters);myTypeConverters.length!==myTypes.length&&throwInternalError("Mismatched type converter count");for(var i=0;i<myTypes.length;++i)registerType(myTypes[i],myTypeConverters[i])}myTypes.forEach((function(type){typeDependencies[type]=dependentTypes}));var typeConverters=new Array(dependentTypes.length),unregisteredTypes=[],registered=0;dependentTypes.forEach(((dt,i)=>{registeredTypes.hasOwnProperty(dt)?typeConverters[i]=registeredTypes[dt]:(unregisteredTypes.push(dt),awaitingDependencies.hasOwnProperty(dt)||(awaitingDependencies[dt]=[]),awaitingDependencies[dt].push((()=>{typeConverters[i]=registeredTypes[dt],++registered===unregisteredTypes.length&&onComplete(typeConverters)})))})),0===unregisteredTypes.length&&onComplete(typeConverters)};function sharedRegisterType(rawType,registeredInstance,options={}){var name=registeredInstance.name;if(rawType||throwBindingError(`type "${name}" must have a positive integer typeid pointer`),registeredTypes.hasOwnProperty(rawType)){if(options.ignoreDuplicateRegistrations)return;throwBindingError(`Cannot register type '${name}' twice`)}if(registeredTypes[rawType]=registeredInstance,delete typeDependencies[rawType],awaitingDependencies.hasOwnProperty(rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType],callbacks.forEach((cb=>cb()))}}function registerType(rawType,registeredInstance,options={}){if(!("argPackAdvance"in registeredInstance))throw new TypeError("registerType registeredInstance requires argPackAdvance");return sharedRegisterType(rawType,registeredInstance,options)}var delayFunction,GenericWireTypeSize=8,__embind_register_bool=(rawType,name,trueValue,falseValue)=>{registerType(rawType,{name:name=readLatin1String(name),fromWireType:function(wt){return!!wt},toWireType:function(destructors,o){return o?trueValue:falseValue},argPackAdvance:GenericWireTypeSize,readValueFromPointer:function(pointer){return this.fromWireType(HEAPU8[pointer])},destructorFunction:null})},shallowCopyInternalPointer=o=>({count:o.count,deleteScheduled:o.deleteScheduled,preservePointerOnDelete:o.preservePointerOnDelete,ptr:o.ptr,ptrType:o.ptrType,smartPtr:o.smartPtr,smartPtrType:o.smartPtrType}),throwInstanceAlreadyDeleted=obj=>{throwBindingError(obj.$$.ptrType.registeredClass.name+" instance already deleted")},finalizationRegistry=!1,detachFinalizer=handle=>{},runDestructor=$$=>{$$.smartPtr?$$.smartPtrType.rawDestructor($$.smartPtr):$$.ptrType.registeredClass.rawDestructor($$.ptr)},releaseClassHandle=$$=>{$$.count.value-=1,0===$$.count.value&&runDestructor($$)},downcastPointer=(ptr,ptrClass,desiredClass)=>{if(ptrClass===desiredClass)return ptr;if(void 0===desiredClass.baseClass)return null;var rv=downcastPointer(ptr,ptrClass,desiredClass.baseClass);return null===rv?null:desiredClass.downcast(rv)},registeredPointers={},getInheritedInstanceCount=()=>Object.keys(registeredInstances).length,getLiveInheritedInstances=()=>{var rv=[];for(var k in registeredInstances)registeredInstances.hasOwnProperty(k)&&rv.push(registeredInstances[k]);return rv},deletionQueue=[],flushPendingDeletes=()=>{for(;deletionQueue.length;){var obj=deletionQueue.pop();obj.$$.deleteScheduled=!1,obj.delete()}},setDelayFunction=fn=>{delayFunction=fn,deletionQueue.length&&delayFunction&&delayFunction(flushPendingDeletes)},init_embind=()=>{Module.getInheritedInstanceCount=getInheritedInstanceCount,Module.getLiveInheritedInstances=getLiveInheritedInstances,Module.flushPendingDeletes=flushPendingDeletes,Module.setDelayFunction=setDelayFunction},registeredInstances={},getBasestPointer=(class_,ptr)=>{for(void 0===ptr&&throwBindingError("ptr should not be undefined");class_.baseClass;)ptr=class_.upcast(ptr),class_=class_.baseClass;return ptr},getInheritedInstance=(class_,ptr)=>(ptr=getBasestPointer(class_,ptr),registeredInstances[ptr]),makeClassHandle=(prototype,record)=>(record.ptrType&&record.ptr||throwInternalError("makeClassHandle requires ptr and ptrType"),!!record.smartPtrType!==!!record.smartPtr&&throwInternalError("Both smartPtrType and smartPtr must be specified"),record.count={value:1},attachFinalizer(Object.create(prototype,{$$:{value:record}})));function RegisteredPointer_fromWireType(ptr){var rawPointer=this.getPointee(ptr);if(!rawPointer)return this.destructor(ptr),null;var registeredInstance=getInheritedInstance(this.registeredClass,rawPointer);if(void 0!==registeredInstance){if(0===registeredInstance.$$.count.value)return registeredInstance.$$.ptr=rawPointer,registeredInstance.$$.smartPtr=ptr,registeredInstance.clone();var rv=registeredInstance.clone();return this.destructor(ptr),rv}function makeDefaultHandle(){return this.isSmartPointer?makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:rawPointer,smartPtrType:this,smartPtr:ptr}):makeClassHandle(this.registeredClass.instancePrototype,{ptrType:this,ptr:ptr})}var toType,actualType=this.registeredClass.getActualType(rawPointer),registeredPointerRecord=registeredPointers[actualType];if(!registeredPointerRecord)return makeDefaultHandle.call(this);toType=this.isConst?registeredPointerRecord.constPointerType:registeredPointerRecord.pointerType;var dp=downcastPointer(rawPointer,this.registeredClass,toType.registeredClass);return null===dp?makeDefaultHandle.call(this):this.isSmartPointer?makeClassHandle(toType.registeredClass.instancePrototype,{ptrType:toType,ptr:dp,smartPtrType:this,smartPtr:ptr}):makeClassHandle(toType.registeredClass.instancePrototype,{ptrType:toType,ptr:dp})}var attachFinalizer=handle=>"undefined"==typeof FinalizationRegistry?(attachFinalizer=handle=>handle,handle):(finalizationRegistry=new FinalizationRegistry((info=>{console.warn(info.leakWarning.stack.replace(/^Error: /,"")),releaseClassHandle(info.$$)})),attachFinalizer=handle=>{var $$=handle.$$;if(!!$$.smartPtr){var info={$$:$$},cls=$$.ptrType.registeredClass;info.leakWarning=new Error(`Embind found a leaked C++ instance ${cls.name} <${ptrToString($$.ptr)}>.\nWe'll free it automatically in this case, but this functionality is not reliable across various environments.\nMake sure to invoke .delete() manually once you're done with the instance instead.\nOriginally allocated`),"captureStackTrace"in Error&&Error.captureStackTrace(info.leakWarning,RegisteredPointer_fromWireType),finalizationRegistry.register(handle,info,handle)}return handle},detachFinalizer=handle=>finalizationRegistry.unregister(handle),attachFinalizer(handle)),init_ClassHandle=()=>{Object.assign(ClassHandle.prototype,{isAliasOf(other){if(!(this instanceof ClassHandle))return!1;if(!(other instanceof ClassHandle))return!1;var leftClass=this.$$.ptrType.registeredClass,left=this.$$.ptr;other.$$=other.$$;for(var rightClass=other.$$.ptrType.registeredClass,right=other.$$.ptr;leftClass.baseClass;)left=leftClass.upcast(left),leftClass=leftClass.baseClass;for(;rightClass.baseClass;)right=rightClass.upcast(right),rightClass=rightClass.baseClass;return leftClass===rightClass&&left===right},clone(){if(this.$$.ptr||throwInstanceAlreadyDeleted(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var clone=attachFinalizer(Object.create(Object.getPrototypeOf(this),{$$:{value:shallowCopyInternalPointer(this.$$)}}));return clone.$$.count.value+=1,clone.$$.deleteScheduled=!1,clone},delete(){this.$$.ptr||throwInstanceAlreadyDeleted(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&throwBindingError("Object already scheduled for deletion"),detachFinalizer(this),releaseClassHandle(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||throwInstanceAlreadyDeleted(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&throwBindingError("Object already scheduled for deletion"),deletionQueue.push(this),1===deletionQueue.length&&delayFunction&&delayFunction(flushPendingDeletes),this.$$.deleteScheduled=!0,this}})};function ClassHandle(){}var char_0=48,char_9=57,makeLegalFunctionName=name=>{if(void 0===name)return"_unknown";var f=(name=name.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return f>=char_0&&f<=char_9?`_${name}`:name};function createNamedFunction(name,body){return{[name=makeLegalFunctionName(name)]:function(){return body.apply(this,arguments)}}[name]}var ensureOverloadTable=(proto,methodName,humanName)=>{if(void 0===proto[methodName].overloadTable){var prevFunc=proto[methodName];proto[methodName]=function(){return proto[methodName].overloadTable.hasOwnProperty(arguments.length)||throwBindingError(`Function '${humanName}' called with an invalid number of arguments (${arguments.length}) - expects one of (${proto[methodName].overloadTable})!`),proto[methodName].overloadTable[arguments.length].apply(this,arguments)},proto[methodName].overloadTable=[],proto[methodName].overloadTable[prevFunc.argCount]=prevFunc}},exposePublicSymbol=(name,value,numArguments)=>{Module.hasOwnProperty(name)?((void 0===numArguments||void 0!==Module[name].overloadTable&&void 0!==Module[name].overloadTable[numArguments])&&throwBindingError(`Cannot register public name '${name}' twice`),ensureOverloadTable(Module,name,name),Module.hasOwnProperty(numArguments)&&throwBindingError(`Cannot register multiple overloads of a function with the same number of arguments (${numArguments})!`),Module[name].overloadTable[numArguments]=value):(Module[name]=value,void 0!==numArguments&&(Module[name].numArguments=numArguments))};function RegisteredClass(name,constructor,instancePrototype,rawDestructor,baseClass,getActualType,upcast,downcast){this.name=name,this.constructor=constructor,this.instancePrototype=instancePrototype,this.rawDestructor=rawDestructor,this.baseClass=baseClass,this.getActualType=getActualType,this.upcast=upcast,this.downcast=downcast,this.pureVirtualFunctions=[]}var upcastPointer=(ptr,ptrClass,desiredClass)=>{for(;ptrClass!==desiredClass;)ptrClass.upcast||throwBindingError(`Expected null or instance of ${desiredClass.name}, got an instance of ${ptrClass.name}`),ptr=ptrClass.upcast(ptr),ptrClass=ptrClass.baseClass;return ptr};function constNoSmartPtrRawPointerToWireType(destructors,handle){if(null===handle)return this.isReference&&throwBindingError(`null is not a valid ${this.name}`),0;handle.$$||throwBindingError(`Cannot pass "${embindRepr(handle)}" as a ${this.name}`),handle.$$.ptr||throwBindingError(`Cannot pass deleted object as a pointer of type ${this.name}`);var handleClass=handle.$$.ptrType.registeredClass;return upcastPointer(handle.$$.ptr,handleClass,this.registeredClass)}function genericPointerToWireType(destructors,handle){var ptr;if(null===handle)return this.isReference&&throwBindingError(`null is not a valid ${this.name}`),this.isSmartPointer?(ptr=this.rawConstructor(),null!==destructors&&destructors.push(this.rawDestructor,ptr),ptr):0;handle.$$||throwBindingError(`Cannot pass "${embindRepr(handle)}" as a ${this.name}`),handle.$$.ptr||throwBindingError(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&handle.$$.ptrType.isConst&&throwBindingError(`Cannot convert argument of type ${handle.$$.smartPtrType?handle.$$.smartPtrType.name:handle.$$.ptrType.name} to parameter type ${this.name}`);var handleClass=handle.$$.ptrType.registeredClass;if(ptr=upcastPointer(handle.$$.ptr,handleClass,this.registeredClass),this.isSmartPointer)switch(void 0===handle.$$.smartPtr&&throwBindingError("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:handle.$$.smartPtrType===this?ptr=handle.$$.smartPtr:throwBindingError(`Cannot convert argument of type ${handle.$$.smartPtrType?handle.$$.smartPtrType.name:handle.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:ptr=handle.$$.smartPtr;break;case 2:if(handle.$$.smartPtrType===this)ptr=handle.$$.smartPtr;else{var clonedHandle=handle.clone();ptr=this.rawShare(ptr,Emval.toHandle((()=>clonedHandle.delete()))),null!==destructors&&destructors.push(this.rawDestructor,ptr)}break;default:throwBindingError("Unsupporting sharing policy")}return ptr}function nonConstNoSmartPtrRawPointerToWireType(destructors,handle){if(null===handle)return this.isReference&&throwBindingError(`null is not a valid ${this.name}`),0;handle.$$||throwBindingError(`Cannot pass "${embindRepr(handle)}" as a ${this.name}`),handle.$$.ptr||throwBindingError(`Cannot pass deleted object as a pointer of type ${this.name}`),handle.$$.ptrType.isConst&&throwBindingError(`Cannot convert argument of type ${handle.$$.ptrType.name} to parameter type ${this.name}`);var handleClass=handle.$$.ptrType.registeredClass;return upcastPointer(handle.$$.ptr,handleClass,this.registeredClass)}function readPointer(pointer){return this.fromWireType(HEAPU32[pointer>>2])}var init_RegisteredPointer=()=>{Object.assign(RegisteredPointer.prototype,{getPointee(ptr){return this.rawGetPointee&&(ptr=this.rawGetPointee(ptr)),ptr},destructor(ptr){this.rawDestructor&&this.rawDestructor(ptr)},argPackAdvance:GenericWireTypeSize,readValueFromPointer:readPointer,deleteObject(handle){null!==handle&&handle.delete()},fromWireType:RegisteredPointer_fromWireType})};function RegisteredPointer(name,registeredClass,isReference,isConst,isSmartPointer,pointeeType,sharingPolicy,rawGetPointee,rawConstructor,rawShare,rawDestructor){this.name=name,this.registeredClass=registeredClass,this.isReference=isReference,this.isConst=isConst,this.isSmartPointer=isSmartPointer,this.pointeeType=pointeeType,this.sharingPolicy=sharingPolicy,this.rawGetPointee=rawGetPointee,this.rawConstructor=rawConstructor,this.rawShare=rawShare,this.rawDestructor=rawDestructor,isSmartPointer||void 0!==registeredClass.baseClass?this.toWireType=genericPointerToWireType:isConst?(this.toWireType=constNoSmartPtrRawPointerToWireType,this.destructorFunction=null):(this.toWireType=nonConstNoSmartPtrRawPointerToWireType,this.destructorFunction=null)}var wasmTable,UnboundTypeError,replacePublicSymbol=(name,value,numArguments)=>{Module.hasOwnProperty(name)||throwInternalError("Replacing nonexistant public symbol"),void 0!==Module[name].overloadTable&&void 0!==numArguments?Module[name].overloadTable[numArguments]=value:(Module[name]=value,Module[name].argCount=numArguments)},dynCallLegacy=(sig,ptr,args)=>{assert("dynCall_"+sig in Module,`bad function pointer type - dynCall function not found for sig '${sig}'`),args&&args.length?assert(args.length===sig.substring(1).replace(/j/g,"--").length):assert(1==sig.length);var f=Module["dynCall_"+sig];return args&&args.length?f.apply(null,[ptr].concat(args)):f.call(null,ptr)},getWasmTableEntry=funcPtr=>wasmTable.get(funcPtr),dynCall=(sig,ptr,args)=>sig.includes("j")?dynCallLegacy(sig,ptr,args):(assert(getWasmTableEntry(ptr),`missing table entry in dynCall: ${ptr}`),getWasmTableEntry(ptr).apply(null,args)),getDynCaller=(sig,ptr)=>{assert(sig.includes("j")||sig.includes("p"),"getDynCaller should only be called with i64 sigs");var argCache=[];return function(){return argCache.length=0,Object.assign(argCache,arguments),dynCall(sig,ptr,argCache)}},embind__requireFunction=(signature,rawFunction)=>{var fp=(signature=readLatin1String(signature)).includes("j")?getDynCaller(signature,rawFunction):getWasmTableEntry(rawFunction);return"function"!=typeof fp&&throwBindingError(`unknown function pointer with signature ${signature}: ${rawFunction}`),fp},extendError=(baseErrorType,errorName)=>{var errorClass=createNamedFunction(errorName,(function(message){this.name=errorName,this.message=message;var stack=new Error(message).stack;void 0!==stack&&(this.stack=this.toString()+"\n"+stack.replace(/^Error(:[^\n]*)?\n/,""))}));return errorClass.prototype=Object.create(baseErrorType.prototype),errorClass.prototype.constructor=errorClass,errorClass.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},errorClass},getTypeName=type=>{var ptr=___getTypeName(type),rv=readLatin1String(ptr);return _free(ptr),rv},throwUnboundTypeError=(message,types)=>{var unboundTypes=[],seen={};throw types.forEach((function visit(type){seen[type]||registeredTypes[type]||(typeDependencies[type]?typeDependencies[type].forEach(visit):(unboundTypes.push(type),seen[type]=!0))})),new UnboundTypeError(`${message}: `+unboundTypes.map(getTypeName).join([", "]))},__embind_register_class=(rawType,rawPointerType,rawConstPointerType,baseClassRawType,getActualTypeSignature,getActualType,upcastSignature,upcast,downcastSignature,downcast,name,destructorSignature,rawDestructor)=>{name=readLatin1String(name),getActualType=embind__requireFunction(getActualTypeSignature,getActualType),upcast&&(upcast=embind__requireFunction(upcastSignature,upcast)),downcast&&(downcast=embind__requireFunction(downcastSignature,downcast)),rawDestructor=embind__requireFunction(destructorSignature,rawDestructor);var legalFunctionName=makeLegalFunctionName(name);exposePublicSymbol(legalFunctionName,(function(){throwUnboundTypeError(`Cannot construct ${name} due to unbound types`,[baseClassRawType])})),whenDependentTypesAreResolved([rawType,rawPointerType,rawConstPointerType],baseClassRawType?[baseClassRawType]:[],(function(base){var baseClass,basePrototype;base=base[0],basePrototype=baseClassRawType?(baseClass=base.registeredClass).instancePrototype:ClassHandle.prototype;var constructor=createNamedFunction(legalFunctionName,(function(){if(Object.getPrototypeOf(this)!==instancePrototype)throw new BindingError("Use 'new' to construct "+name);if(void 0===registeredClass.constructor_body)throw new BindingError(name+" has no accessible constructor");var body=registeredClass.constructor_body[arguments.length];if(void 0===body)throw new BindingError(`Tried to invoke ctor of ${name} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(registeredClass.constructor_body).toString()}) parameters instead!`);return body.apply(this,arguments)})),instancePrototype=Object.create(basePrototype,{constructor:{value:constructor}});constructor.prototype=instancePrototype;var registeredClass=new RegisteredClass(name,constructor,instancePrototype,rawDestructor,baseClass,getActualType,upcast,downcast);registeredClass.baseClass&&(void 0===registeredClass.baseClass.__derivedClasses&&(registeredClass.baseClass.__derivedClasses=[]),registeredClass.baseClass.__derivedClasses.push(registeredClass));var referenceConverter=new RegisteredPointer(name,registeredClass,!0,!1,!1),pointerConverter=new RegisteredPointer(name+"*",registeredClass,!1,!1,!1),constPointerConverter=new RegisteredPointer(name+" const*",registeredClass,!1,!0,!1);return registeredPointers[rawType]={pointerType:pointerConverter,constPointerType:constPointerConverter},replacePublicSymbol(legalFunctionName,constructor),[referenceConverter,pointerConverter,constPointerConverter]}))},runDestructors=destructors=>{for(;destructors.length;){var ptr=destructors.pop();destructors.pop()(ptr)}};function newFunc(constructor,argumentList){if(!(constructor instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof constructor} which is not a function`);var dummy=createNamedFunction(constructor.name||"unknownFunctionName",(function(){}));dummy.prototype=constructor.prototype;var obj=new dummy,r=constructor.apply(obj,argumentList);return r instanceof Object?r:obj}function craftInvokerFunction(humanName,argTypes,classType,cppInvokerFunc,cppTargetFunc,isAsync){var argCount=argTypes.length;argCount<2&&throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!"),assert(!isAsync,"Async bindings are only supported with JSPI.");for(var isClassMethodFunc=null!==argTypes[1]&&null!==classType,needsDestructorStack=!1,i=1;i<argTypes.length;++i)if(null!==argTypes[i]&&void 0===argTypes[i].destructorFunction){needsDestructorStack=!0;break}var returns="void"!==argTypes[0].name,argsList="",argsListWired="";for(i=0;i<argCount-2;++i)argsList+=(0!==i?", ":"")+"arg"+i,argsListWired+=(0!==i?", ":"")+"arg"+i+"Wired";var invokerFnBody=`\nreturn function ${makeLegalFunctionName(humanName)}(${argsList}) {\nif (arguments.length !== ${argCount-2}) {\n  throwBindingError('function ${humanName} called with ' + arguments.length + ' arguments, expected ${argCount-2}');\n}`;needsDestructorStack&&(invokerFnBody+="var destructors = [];\n");var dtorStack=needsDestructorStack?"destructors":"null",args1=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],args2=[throwBindingError,cppInvokerFunc,cppTargetFunc,runDestructors,argTypes[0],argTypes[1]];isClassMethodFunc&&(invokerFnBody+="var thisWired = classParam.toWireType("+dtorStack+", this);\n");for(i=0;i<argCount-2;++i)invokerFnBody+="var arg"+i+"Wired = argType"+i+".toWireType("+dtorStack+", arg"+i+"); // "+argTypes[i+2].name+"\n",args1.push("argType"+i),args2.push(argTypes[i+2]);if(isClassMethodFunc&&(argsListWired="thisWired"+(argsListWired.length>0?", ":"")+argsListWired),invokerFnBody+=(returns||isAsync?"var rv = ":"")+"invoker(fn"+(argsListWired.length>0?", ":"")+argsListWired+");\n",needsDestructorStack)invokerFnBody+="runDestructors(destructors);\n";else for(i=isClassMethodFunc?1:2;i<argTypes.length;++i){var paramName=1===i?"thisWired":"arg"+(i-2)+"Wired";null!==argTypes[i].destructorFunction&&(invokerFnBody+=paramName+"_dtor("+paramName+"); // "+argTypes[i].name+"\n",args1.push(paramName+"_dtor"),args2.push(argTypes[i].destructorFunction))}return returns&&(invokerFnBody+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),invokerFnBody+="}\n",args1.push(invokerFnBody),newFunc(Function,args1).apply(null,args2)}var heap32VectorToArray=(count,firstElement)=>{for(var array=[],i=0;i<count;i++)array.push(HEAPU32[firstElement+4*i>>2]);return array},getFunctionName=signature=>{const argsIndex=(signature=signature.trim()).indexOf("(");return-1!==argsIndex?(assert(")"==signature[signature.length-1],"Parentheses for argument names should match."),signature.substr(0,argsIndex)):signature},__embind_register_class_function=(rawClassType,methodName,argCount,rawArgTypesAddr,invokerSignature,rawInvoker,context,isPureVirtual,isAsync)=>{var rawArgTypes=heap32VectorToArray(argCount,rawArgTypesAddr);methodName=readLatin1String(methodName),methodName=getFunctionName(methodName),rawInvoker=embind__requireFunction(invokerSignature,rawInvoker),whenDependentTypesAreResolved([],[rawClassType],(function(classType){var humanName=`${(classType=classType[0]).name}.${methodName}`;function unboundTypesHandler(){throwUnboundTypeError(`Cannot call ${humanName} due to unbound types`,rawArgTypes)}methodName.startsWith("@@")&&(methodName=Symbol[methodName.substring(2)]),isPureVirtual&&classType.registeredClass.pureVirtualFunctions.push(methodName);var proto=classType.registeredClass.instancePrototype,method=proto[methodName];return void 0===method||void 0===method.overloadTable&&method.className!==classType.name&&method.argCount===argCount-2?(unboundTypesHandler.argCount=argCount-2,unboundTypesHandler.className=classType.name,proto[methodName]=unboundTypesHandler):(ensureOverloadTable(proto,methodName,humanName),proto[methodName].overloadTable[argCount-2]=unboundTypesHandler),whenDependentTypesAreResolved([],rawArgTypes,(function(argTypes){var memberFunction=craftInvokerFunction(humanName,argTypes,classType,rawInvoker,context,isAsync);return void 0===proto[methodName].overloadTable?(memberFunction.argCount=argCount-2,proto[methodName]=memberFunction):proto[methodName].overloadTable[argCount-2]=memberFunction,[]})),[]}))},validateThis=(this_,classType,humanName)=>(this_ instanceof Object||throwBindingError(`${humanName} with invalid "this": ${this_}`),this_ instanceof classType.registeredClass.constructor||throwBindingError(`${humanName} incompatible with "this" of type ${this_.constructor.name}`),this_.$$.ptr||throwBindingError(`cannot call emscripten binding method ${humanName} on deleted object`),upcastPointer(this_.$$.ptr,this_.$$.ptrType.registeredClass,classType.registeredClass)),__embind_register_class_property=(classType,fieldName,getterReturnType,getterSignature,getter,getterContext,setterArgumentType,setterSignature,setter,setterContext)=>{fieldName=readLatin1String(fieldName),getter=embind__requireFunction(getterSignature,getter),whenDependentTypesAreResolved([],[classType],(function(classType){var humanName=`${(classType=classType[0]).name}.${fieldName}`,desc={get(){throwUnboundTypeError(`Cannot access ${humanName} due to unbound types`,[getterReturnType,setterArgumentType])},enumerable:!0,configurable:!0};return desc.set=setter?()=>throwUnboundTypeError(`Cannot access ${humanName} due to unbound types`,[getterReturnType,setterArgumentType]):v=>throwBindingError(humanName+" is a read-only property"),Object.defineProperty(classType.registeredClass.instancePrototype,fieldName,desc),whenDependentTypesAreResolved([],setter?[getterReturnType,setterArgumentType]:[getterReturnType],(function(types){var getterReturnType=types[0],desc={get(){var ptr=validateThis(this,classType,humanName+" getter");return getterReturnType.fromWireType(getter(getterContext,ptr))},enumerable:!0};if(setter){setter=embind__requireFunction(setterSignature,setter);var setterArgumentType=types[1];desc.set=function(v){var ptr=validateThis(this,classType,humanName+" setter"),destructors=[];setter(setterContext,ptr,setterArgumentType.toWireType(destructors,v)),runDestructors(destructors)}}return Object.defineProperty(classType.registeredClass.instancePrototype,fieldName,desc),[]})),[]}))};function handleAllocatorInit(){Object.assign(HandleAllocator.prototype,{get(id){return assert(void 0!==this.allocated[id],`invalid handle: ${id}`),this.allocated[id]},has(id){return void 0!==this.allocated[id]},allocate(handle){var id=this.freelist.pop()||this.allocated.length;return this.allocated[id]=handle,id},free(id){assert(void 0!==this.allocated[id]),this.allocated[id]=void 0,this.freelist.push(id)}})}function HandleAllocator(){this.allocated=[void 0],this.freelist=[]}var emval_handles=new HandleAllocator,__emval_decref=handle=>{handle>=emval_handles.reserved&&0==--emval_handles.get(handle).refcount&&emval_handles.free(handle)},count_emval_handles=()=>{for(var count=0,i=emval_handles.reserved;i<emval_handles.allocated.length;++i)void 0!==emval_handles.allocated[i]&&++count;return count},init_emval=()=>{emval_handles.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),emval_handles.reserved=emval_handles.allocated.length,Module.count_emval_handles=count_emval_handles},Emval={toValue:handle=>(handle||throwBindingError("Cannot use deleted val. handle = "+handle),emval_handles.get(handle).value),toHandle:value=>{switch(value){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return emval_handles.allocate({refcount:1,value:value})}}};function simpleReadValueFromPointer(pointer){return this.fromWireType(HEAP32[pointer>>2])}var _emscripten_get_now,__embind_register_emval=(rawType,name)=>{registerType(rawType,{name:name=readLatin1String(name),fromWireType:handle=>{var rv=Emval.toValue(handle);return __emval_decref(handle),rv},toWireType:(destructors,value)=>Emval.toHandle(value),argPackAdvance:GenericWireTypeSize,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:null})},embindRepr=v=>{if(null===v)return"null";var t=typeof v;return"object"===t||"array"===t||"function"===t?v.toString():""+v},floatReadValueFromPointer=(name,width)=>{switch(width){case 4:return function(pointer){return this.fromWireType(HEAPF32[pointer>>2])};case 8:return function(pointer){return this.fromWireType(HEAPF64[pointer>>3])};default:throw new TypeError(`invalid float width (${width}): ${name}`)}},__embind_register_float=(rawType,name,size)=>{registerType(rawType,{name:name=readLatin1String(name),fromWireType:value=>value,toWireType:(destructors,value)=>{if("number"!=typeof value&&"boolean"!=typeof value)throw new TypeError(`Cannot convert ${embindRepr(value)} to ${this.name}`);return value},argPackAdvance:GenericWireTypeSize,readValueFromPointer:floatReadValueFromPointer(name,size),destructorFunction:null})},__embind_register_function=(name,argCount,rawArgTypesAddr,signature,rawInvoker,fn,isAsync)=>{var argTypes=heap32VectorToArray(argCount,rawArgTypesAddr);name=readLatin1String(name),name=getFunctionName(name),rawInvoker=embind__requireFunction(signature,rawInvoker),exposePublicSymbol(name,(function(){throwUnboundTypeError(`Cannot call ${name} due to unbound types`,argTypes)}),argCount-1),whenDependentTypesAreResolved([],argTypes,(function(argTypes){var invokerArgsArray=[argTypes[0],null].concat(argTypes.slice(1));return replacePublicSymbol(name,craftInvokerFunction(name,invokerArgsArray,null,rawInvoker,fn,isAsync),argCount-1),[]}))},integerReadValueFromPointer=(name,width,signed)=>{switch(width){case 1:return signed?pointer=>HEAP8[pointer>>0]:pointer=>HEAPU8[pointer>>0];case 2:return signed?pointer=>HEAP16[pointer>>1]:pointer=>HEAPU16[pointer>>1];case 4:return signed?pointer=>HEAP32[pointer>>2]:pointer=>HEAPU32[pointer>>2];default:throw new TypeError(`invalid integer width (${width}): ${name}`)}},__embind_register_integer=(primitiveType,name,size,minRange,maxRange)=>{name=readLatin1String(name),-1===maxRange&&(maxRange=4294967295);var fromWireType=value=>value;if(0===minRange){var bitshift=32-8*size;fromWireType=value=>value<<bitshift>>>bitshift}var isUnsignedType=name.includes("unsigned"),checkAssertions=(value,toTypeName)=>{if("number"!=typeof value&&"boolean"!=typeof value)throw new TypeError(`Cannot convert "${embindRepr(value)}" to ${toTypeName}`);if(value<minRange||value>maxRange)throw new TypeError(`Passing a number "${embindRepr(value)}" from JS side to C/C++ side to an argument of type "${name}", which is outside the valid range [${minRange}, ${maxRange}]!`)};registerType(primitiveType,{name:name,fromWireType:fromWireType,toWireType:isUnsignedType?function(destructors,value){return checkAssertions(value,this.name),value>>>0}:function(destructors,value){return checkAssertions(value,this.name),value},argPackAdvance:GenericWireTypeSize,readValueFromPointer:integerReadValueFromPointer(name,size,0!==minRange),destructorFunction:null})},__embind_register_memory_view=(rawType,dataTypeIndex,name)=>{var TA=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][dataTypeIndex];function decodeMemoryView(handle){var size=HEAPU32[handle>>2],data=HEAPU32[handle+4>>2];return new TA(HEAP8.buffer,data,size)}registerType(rawType,{name:name=readLatin1String(name),fromWireType:decodeMemoryView,argPackAdvance:GenericWireTypeSize,readValueFromPointer:decodeMemoryView},{ignoreDuplicateRegistrations:!0})},stringToUTF8Array=(str,heap,outIdx,maxBytesToWrite)=>{if(assert("string"==typeof str),!(maxBytesToWrite>0))return 0;for(var startIdx=outIdx,endIdx=outIdx+maxBytesToWrite-1,i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((1023&u)<<10)|1023&str.charCodeAt(++i);if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6,heap[outIdx++]=128|63&u}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12,heap[outIdx++]=128|u>>6&63,heap[outIdx++]=128|63&u}else{if(outIdx+3>=endIdx)break;u>1114111&&warnOnce("Invalid Unicode code point "+ptrToString(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),heap[outIdx++]=240|u>>18,heap[outIdx++]=128|u>>12&63,heap[outIdx++]=128|u>>6&63,heap[outIdx++]=128|63&u}}return heap[outIdx]=0,outIdx-startIdx},stringToUTF8=(str,outPtr,maxBytesToWrite)=>(assert("number"==typeof maxBytesToWrite,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)),lengthBytesUTF8=str=>{for(var len=0,i=0;i<str.length;++i){var c=str.charCodeAt(i);c<=127?len++:c<=2047?len+=2:c>=55296&&c<=57343?(len+=4,++i):len+=3}return len},__embind_register_std_string=(rawType,name)=>{var stdStringIsUTF8="std::string"===(name=readLatin1String(name));registerType(rawType,{name:name,fromWireType(value){var str,length=HEAPU32[value>>2],payload=value+4;if(stdStringIsUTF8)for(var decodeStartPtr=payload,i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||0==HEAPU8[currentBytePtr]){var stringSegment=UTF8ToString(decodeStartPtr,currentBytePtr-decodeStartPtr);void 0===str?str=stringSegment:(str+=String.fromCharCode(0),str+=stringSegment),decodeStartPtr=currentBytePtr+1}}else{var a=new Array(length);for(i=0;i<length;++i)a[i]=String.fromCharCode(HEAPU8[payload+i]);str=a.join("")}return _free(value),str},toWireType(destructors,value){var length;value instanceof ArrayBuffer&&(value=new Uint8Array(value));var valueIsOfTypeString="string"==typeof value;valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array||throwBindingError("Cannot pass non-string to std::string"),length=stdStringIsUTF8&&valueIsOfTypeString?lengthBytesUTF8(value):value.length;var base=_malloc(4+length+1),ptr=base+4;if(HEAPU32[base>>2]=length,checkInt32(length),stdStringIsUTF8&&valueIsOfTypeString)stringToUTF8(value,ptr,length+1);else if(valueIsOfTypeString)for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);charCode>255&&(_free(ptr),throwBindingError("String has UTF-16 code units that do not fit in 8 bits")),HEAPU8[ptr+i]=charCode}else for(i=0;i<length;++i)HEAPU8[ptr+i]=value[i];return null!==destructors&&destructors.push(_free,base),base},argPackAdvance:GenericWireTypeSize,readValueFromPointer:readPointer,destructorFunction(ptr){_free(ptr)}})},UTF16Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,UTF16ToString=(ptr,maxBytesToRead)=>{assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var endPtr=ptr,idx=endPtr>>1,maxIdx=idx+maxBytesToRead/2;!(idx>=maxIdx)&&HEAPU16[idx];)++idx;if((endPtr=idx<<1)-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));for(var str="",i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+2*i>>1];if(0==codeUnit)break;str+=String.fromCharCode(codeUnit)}return str},stringToUTF16=(str,outPtr,maxBytesToWrite)=>{if(assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),assert("number"==typeof maxBytesToWrite,"stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),void 0===maxBytesToWrite&&(maxBytesToWrite=2147483647),maxBytesToWrite<2)return 0;for(var startPtr=outPtr,numCharsToWrite=(maxBytesToWrite-=2)<2*str.length?maxBytesToWrite/2:str.length,i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit,checkInt16(codeUnit),outPtr+=2}return HEAP16[outPtr>>1]=0,checkInt16(0),outPtr-startPtr},lengthBytesUTF16=str=>2*str.length,UTF32ToString=(ptr,maxBytesToRead)=>{assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var i=0,str="";!(i>=maxBytesToRead/4);){var utf32=HEAP32[ptr+4*i>>2];if(0==utf32)break;if(++i,utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|1023&ch)}else str+=String.fromCharCode(utf32)}return str},stringToUTF32=(str,outPtr,maxBytesToWrite)=>{if(assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),assert("number"==typeof maxBytesToWrite,"stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),void 0===maxBytesToWrite&&(maxBytesToWrite=2147483647),maxBytesToWrite<4)return 0;for(var startPtr=outPtr,endPtr=startPtr+maxBytesToWrite-4,i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)codeUnit=65536+((1023&codeUnit)<<10)|1023&str.charCodeAt(++i);if(HEAP32[outPtr>>2]=codeUnit,checkInt32(codeUnit),(outPtr+=4)+4>endPtr)break}return HEAP32[outPtr>>2]=0,checkInt32(0),outPtr-startPtr},lengthBytesUTF32=str=>{for(var len=0,i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);codeUnit>=55296&&codeUnit<=57343&&++i,len+=4}return len},__embind_register_std_wstring=(rawType,charSize,name)=>{var decodeString,encodeString,getHeap,lengthBytesUTF,shift;name=readLatin1String(name),2===charSize?(decodeString=UTF16ToString,encodeString=stringToUTF16,lengthBytesUTF=lengthBytesUTF16,getHeap=()=>HEAPU16,shift=1):4===charSize&&(decodeString=UTF32ToString,encodeString=stringToUTF32,lengthBytesUTF=lengthBytesUTF32,getHeap=()=>HEAPU32,shift=2),registerType(rawType,{name:name,fromWireType:value=>{for(var str,length=HEAPU32[value>>2],HEAP=getHeap(),decodeStartPtr=value+4,i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||0==HEAP[currentBytePtr>>shift]){var stringSegment=decodeString(decodeStartPtr,currentBytePtr-decodeStartPtr);void 0===str?str=stringSegment:(str+=String.fromCharCode(0),str+=stringSegment),decodeStartPtr=currentBytePtr+charSize}}return _free(value),str},toWireType:(destructors,value)=>{"string"!=typeof value&&throwBindingError(`Cannot pass non-string to C++ string type ${name}`);var length=lengthBytesUTF(value),ptr=_malloc(4+length+charSize);return HEAPU32[ptr>>2]=length>>shift,encodeString(value,ptr+4,length+charSize),null!==destructors&&destructors.push(_free,ptr),ptr},argPackAdvance:GenericWireTypeSize,readValueFromPointer:simpleReadValueFromPointer,destructorFunction(ptr){_free(ptr)}})},__embind_register_void=(rawType,name)=>{registerType(rawType,{isVoid:!0,name:name=readLatin1String(name),argPackAdvance:0,fromWireType:()=>{},toWireType:(destructors,o)=>{}})},nowIsMonotonic=!0,__emscripten_get_now_is_monotonic=()=>nowIsMonotonic,_abort=()=>{abort("native code called abort()")},readEmAsmArgsArray=[],readEmAsmArgs=(sigPtr,buf)=>{var ch;for(assert(Array.isArray(readEmAsmArgsArray)),assert(buf%16==0),readEmAsmArgsArray.length=0;ch=HEAPU8[sigPtr++];){var chr=String.fromCharCode(ch),validChars=["d","f","i","p"];assert(validChars.includes(chr),`Invalid character ${ch}("${chr}") in readEmAsmArgs! Use only [${validChars}], and do not specify "v" for void return argument.`);var wide=105!=ch;buf+=(wide&=112!=ch)&&buf%8?4:0,readEmAsmArgsArray.push(112==ch?HEAPU32[buf>>2]:105==ch?HEAP32[buf>>2]:HEAPF64[buf>>3]),buf+=wide?8:4}return readEmAsmArgsArray},runEmAsmFunction=(code,sigPtr,argbuf)=>{var args=readEmAsmArgs(sigPtr,argbuf);return assert(ASM_CONSTS.hasOwnProperty(code),`No EM_ASM constant found at address ${code}.  The loaded WebAssembly file is likely out of sync with the generated JavaScript.`),ASM_CONSTS[code].apply(null,args)},_emscripten_asm_const_int=(code,sigPtr,argbuf)=>runEmAsmFunction(code,sigPtr,argbuf),_emscripten_date_now=()=>Date.now(),getHeapMax=()=>2147483648,_emscripten_get_heap_max=()=>getHeapMax();_emscripten_get_now=()=>performance.now();var _emscripten_memcpy_js=(dest,src,num)=>HEAPU8.copyWithin(dest,src,src+num),growMemory=size=>{var b=wasmMemory.buffer,pages=(size-b.byteLength+65535)/65536;try{return wasmMemory.grow(pages),updateMemoryViews(),1}catch(e){err(`growMemory: Attempted to grow heap from ${b.byteLength} bytes to ${size} bytes, but got error: ${e}`)}},_emscripten_resize_heap=requestedSize=>{var oldSize=HEAPU8.length;assert((requestedSize>>>=0)>oldSize);var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize)return err(`Cannot enlarge memory, requested ${requestedSize} bytes, but the limit is ${maxHeapSize} bytes!`),!1;for(var x,multiple,cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,(x=Math.max(requestedSize,overGrownHeapSize))+((multiple=65536)-x%multiple)%multiple),t0=_emscripten_get_now(),replacement=growMemory(newSize);if(dbg(`Heap resize call from ${oldSize} to ${newSize} took ${_emscripten_get_now()-t0} msecs. Success: ${!!replacement}`),replacement)return!0}return err(`Failed to grow the heap from ${oldSize} bytes to ${newSize} bytes, not enough memory!`),!1},ENV={},getExecutableName=()=>thisProgram||"./this.program",getEnvStrings=()=>{if(!getEnvStrings.strings){var env={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:getExecutableName()};for(var x in ENV)void 0===ENV[x]?delete env[x]:env[x]=ENV[x];var strings=[];for(var x in env)strings.push(`${x}=${env[x]}`);getEnvStrings.strings=strings}return getEnvStrings.strings},stringToAscii=(str,buffer)=>{for(var i=0;i<str.length;++i)assert(str.charCodeAt(i)===(255&str.charCodeAt(i))),HEAP8[buffer++>>0]=str.charCodeAt(i),checkInt8(str.charCodeAt(i));HEAP8[buffer>>0]=0,checkInt8(0)},_environ_get=(__environ,environ_buf)=>{var bufSize=0;return getEnvStrings().forEach(((string,i)=>{var ptr=environ_buf+bufSize;HEAPU32[__environ+4*i>>2]=ptr,checkInt32(ptr),stringToAscii(string,ptr),bufSize+=string.length+1})),0},_environ_sizes_get=(penviron_count,penviron_buf_size)=>{var strings=getEnvStrings();HEAPU32[penviron_count>>2]=strings.length,checkInt32(strings.length);var bufSize=0;return strings.forEach((string=>bufSize+=string.length+1)),HEAPU32[penviron_buf_size>>2]=bufSize,checkInt32(bufSize),0},runtimeKeepaliveCounter=0,keepRuntimeAlive=()=>noExitRuntime||runtimeKeepaliveCounter>0,_proc_exit=code=>{EXITSTATUS=code,keepRuntimeAlive()||(Module.onExit&&Module.onExit(code),ABORT=!0),quit_(code,new ExitStatus(code))},exitJS=(status,implicit)=>{(EXITSTATUS=status,checkUnflushedContent(),keepRuntimeAlive()&&!implicit)&&err(`program exited (with status: ${status}), but keepRuntimeAlive() is set (counter=${runtimeKeepaliveCounter}) due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)`);_proc_exit(status)},_exit=exitJS,_fd_close=fd=>{abort("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},_fd_read=(fd,iov,iovcnt,pnum)=>{abort("fd_read called without SYSCALLS_REQUIRE_FILESYSTEM")},convertI32PairToI53Checked=(lo,hi)=>(assert(lo==lo>>>0||lo==(0|lo)),assert(hi===(0|hi)),hi+2097152>>>0<4194305-!!lo?(lo>>>0)+4294967296*hi:NaN);function _fd_seek(fd,offset_low,offset_high,whence,newOffset){convertI32PairToI53Checked(offset_low,offset_high);return 70}var printCharBuffers=[null,[],[]],printChar=(stream,curr)=>{var buffer=printCharBuffers[stream];assert(buffer),0===curr||10===curr?((1===stream?out:err)(UTF8ArrayToString(buffer,0)),buffer.length=0):buffer.push(curr)},flush_NO_FILESYSTEM=()=>{_fflush(0),printCharBuffers[1].length&&printChar(1,10),printCharBuffers[2].length&&printChar(2,10)},_fd_write=(fd,iov,iovcnt,pnum)=>{for(var num=0,i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2],len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++)printChar(fd,HEAPU8[ptr+j]);num+=len}return HEAPU32[pnum>>2]=num,checkInt32(num),0},isLeapYear=year=>year%4==0&&(year%100!=0||year%400==0),arraySum=(array,index)=>{for(var sum=0,i=0;i<=index;sum+=array[i++]);return sum},MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31],MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31],addDays=(date,days)=>{for(var newDate=new Date(date.getTime());days>0;){var leap=isLeapYear(newDate.getFullYear()),currentMonth=newDate.getMonth(),daysInCurrentMonth=(leap?MONTH_DAYS_LEAP:MONTH_DAYS_REGULAR)[currentMonth];if(!(days>daysInCurrentMonth-newDate.getDate()))return newDate.setDate(newDate.getDate()+days),newDate;days-=daysInCurrentMonth-newDate.getDate()+1,newDate.setDate(1),currentMonth<11?newDate.setMonth(currentMonth+1):(newDate.setMonth(0),newDate.setFullYear(newDate.getFullYear()+1))}return newDate};function intArrayFromString(stringy,dontAddNull,length){var len=length>0?length:lengthBytesUTF8(stringy)+1,u8array=new Array(len),numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);return dontAddNull&&(u8array.length=numBytesWritten),u8array}var writeArrayToMemory=(array,buffer)=>{assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),HEAP8.set(array,buffer)},_strftime=(s,maxsize,format,tm)=>{var tm_zone=HEAPU32[tm+40>>2],date={tm_sec:HEAP32[tm>>2],tm_min:HEAP32[tm+4>>2],tm_hour:HEAP32[tm+8>>2],tm_mday:HEAP32[tm+12>>2],tm_mon:HEAP32[tm+16>>2],tm_year:HEAP32[tm+20>>2],tm_wday:HEAP32[tm+24>>2],tm_yday:HEAP32[tm+28>>2],tm_isdst:HEAP32[tm+32>>2],tm_gmtoff:HEAP32[tm+36>>2],tm_zone:tm_zone?UTF8ToString(tm_zone):""},pattern=UTF8ToString(format),EXPANSION_RULES_1={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var rule in EXPANSION_RULES_1)pattern=pattern.replace(new RegExp(rule,"g"),EXPANSION_RULES_1[rule]);var WEEKDAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"];function leadingSomething(value,digits,character){for(var str="number"==typeof value?value.toString():value||"";str.length<digits;)str=character[0]+str;return str}function leadingNulls(value,digits){return leadingSomething(value,digits,"0")}function compareByDay(date1,date2){function sgn(value){return value<0?-1:value>0?1:0}var compare;return 0===(compare=sgn(date1.getFullYear()-date2.getFullYear()))&&0===(compare=sgn(date1.getMonth()-date2.getMonth()))&&(compare=sgn(date1.getDate()-date2.getDate())),compare}function getFirstWeekStartDate(janFourth){switch(janFourth.getDay()){case 0:return new Date(janFourth.getFullYear()-1,11,29);case 1:return janFourth;case 2:return new Date(janFourth.getFullYear(),0,3);case 3:return new Date(janFourth.getFullYear(),0,2);case 4:return new Date(janFourth.getFullYear(),0,1);case 5:return new Date(janFourth.getFullYear()-1,11,31);case 6:return new Date(janFourth.getFullYear()-1,11,30)}}function getWeekBasedYear(date){var thisDate=addDays(new Date(date.tm_year+1900,0,1),date.tm_yday),janFourthThisYear=new Date(thisDate.getFullYear(),0,4),janFourthNextYear=new Date(thisDate.getFullYear()+1,0,4),firstWeekStartThisYear=getFirstWeekStartDate(janFourthThisYear),firstWeekStartNextYear=getFirstWeekStartDate(janFourthNextYear);return compareByDay(firstWeekStartThisYear,thisDate)<=0?compareByDay(firstWeekStartNextYear,thisDate)<=0?thisDate.getFullYear()+1:thisDate.getFullYear():thisDate.getFullYear()-1}var EXPANSION_RULES_2={"%a":date=>WEEKDAYS[date.tm_wday].substring(0,3),"%A":date=>WEEKDAYS[date.tm_wday],"%b":date=>MONTHS[date.tm_mon].substring(0,3),"%B":date=>MONTHS[date.tm_mon],"%C":date=>leadingNulls((date.tm_year+1900)/100|0,2),"%d":date=>leadingNulls(date.tm_mday,2),"%e":date=>leadingSomething(date.tm_mday,2," "),"%g":date=>getWeekBasedYear(date).toString().substring(2),"%G":date=>getWeekBasedYear(date),"%H":date=>leadingNulls(date.tm_hour,2),"%I":date=>{var twelveHour=date.tm_hour;return 0==twelveHour?twelveHour=12:twelveHour>12&&(twelveHour-=12),leadingNulls(twelveHour,2)},"%j":date=>leadingNulls(date.tm_mday+arraySum(isLeapYear(date.tm_year+1900)?MONTH_DAYS_LEAP:MONTH_DAYS_REGULAR,date.tm_mon-1),3),"%m":date=>leadingNulls(date.tm_mon+1,2),"%M":date=>leadingNulls(date.tm_min,2),"%n":()=>"\n","%p":date=>date.tm_hour>=0&&date.tm_hour<12?"AM":"PM","%S":date=>leadingNulls(date.tm_sec,2),"%t":()=>"\t","%u":date=>date.tm_wday||7,"%U":date=>{var days=date.tm_yday+7-date.tm_wday;return leadingNulls(Math.floor(days/7),2)},"%V":date=>{var val=Math.floor((date.tm_yday+7-(date.tm_wday+6)%7)/7);if((date.tm_wday+371-date.tm_yday-2)%7<=2&&val++,val){if(53==val){var jan1=(date.tm_wday+371-date.tm_yday)%7;4==jan1||3==jan1&&isLeapYear(date.tm_year)||(val=1)}}else{val=52;var dec31=(date.tm_wday+7-date.tm_yday-1)%7;(4==dec31||5==dec31&&isLeapYear(date.tm_year%400-1))&&val++}return leadingNulls(val,2)},"%w":date=>date.tm_wday,"%W":date=>{var days=date.tm_yday+7-(date.tm_wday+6)%7;return leadingNulls(Math.floor(days/7),2)},"%y":date=>(date.tm_year+1900).toString().substring(2),"%Y":date=>date.tm_year+1900,"%z":date=>{var off=date.tm_gmtoff,ahead=off>=0;return off=(off=Math.abs(off)/60)/60*100+off%60,(ahead?"+":"-")+String("0000"+off).slice(-4)},"%Z":date=>date.tm_zone,"%%":()=>"%"};for(var rule in pattern=pattern.replace(/%%/g,"\0\0"),EXPANSION_RULES_2)pattern.includes(rule)&&(pattern=pattern.replace(new RegExp(rule,"g"),EXPANSION_RULES_2[rule](date)));var bytes=intArrayFromString(pattern=pattern.replace(/\0\0/g,"%"),!1);return bytes.length>maxsize?0:(writeArrayToMemory(bytes,s),bytes.length-1)},_strftime_l=(s,maxsize,format,tm,loc)=>_strftime(s,maxsize,format,tm);function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings")}embind_init_charCodes(),BindingError=Module.BindingError=class extends Error{constructor(message){super(message),this.name="BindingError"}},InternalError=Module.InternalError=class extends Error{constructor(message){super(message),this.name="InternalError"}},init_ClassHandle(),init_embind(),init_RegisteredPointer(),UnboundTypeError=Module.UnboundTypeError=extendError(Error,"UnboundTypeError"),handleAllocatorInit(),init_emval();var wasmImports={__cxa_throw:___cxa_throw,__handle_stack_overflow:___handle_stack_overflow,__syscall_fcntl64:___syscall_fcntl64,__syscall_ioctl:___syscall_ioctl,__syscall_openat:___syscall_openat,_embind_register_bigint:__embind_register_bigint,_embind_register_bool:__embind_register_bool,_embind_register_class:__embind_register_class,_embind_register_class_function:__embind_register_class_function,_embind_register_class_property:__embind_register_class_property,_embind_register_emval:__embind_register_emval,_embind_register_float:__embind_register_float,_embind_register_function:__embind_register_function,_embind_register_integer:__embind_register_integer,_embind_register_memory_view:__embind_register_memory_view,_embind_register_std_string:__embind_register_std_string,_embind_register_std_wstring:__embind_register_std_wstring,_embind_register_void:__embind_register_void,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_date_now:_emscripten_date_now,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_js:_emscripten_memcpy_js,emscripten_resize_heap:_emscripten_resize_heap,environ_get:_environ_get,environ_sizes_get:_environ_sizes_get,exit:_exit,fd_close:_fd_close,fd_read:_fd_read,fd_seek:_fd_seek,fd_write:_fd_write,strftime_l:_strftime_l},wasmExports=createWasm(),___wasm_call_ctors=createExportWrapper("__wasm_call_ctors"),_free=createExportWrapper("free"),_malloc=createExportWrapper("malloc"),_fflush=Module._fflush=createExportWrapper("fflush"),___getTypeName=createExportWrapper("__getTypeName"),__embind_initialize_bindings=Module.__embind_initialize_bindings=createExportWrapper("_embind_initialize_bindings"),___errno_location=createExportWrapper("__errno_location"),_emscripten_stack_init=()=>(_emscripten_stack_init=wasmExports.emscripten_stack_init)(),_emscripten_stack_get_free=()=>(_emscripten_stack_get_free=wasmExports.emscripten_stack_get_free)(),_emscripten_stack_get_base=()=>(_emscripten_stack_get_base=wasmExports.emscripten_stack_get_base)(),_emscripten_stack_get_end=()=>(_emscripten_stack_get_end=wasmExports.emscripten_stack_get_end)(),stackSave=createExportWrapper("stackSave"),stackRestore=createExportWrapper("stackRestore"),stackAlloc=createExportWrapper("stackAlloc"),_emscripten_stack_get_current=()=>(_emscripten_stack_get_current=wasmExports.emscripten_stack_get_current)(),___cxa_is_pointer_type=createExportWrapper("__cxa_is_pointer_type"),___set_stack_limits=Module.___set_stack_limits=createExportWrapper("__set_stack_limits"),dynCall_viijii=Module.dynCall_viijii=createExportWrapper("dynCall_viijii"),dynCall_jiji=Module.dynCall_jiji=createExportWrapper("dynCall_jiji"),dynCall_iiiiij=Module.dynCall_iiiiij=createExportWrapper("dynCall_iiiiij"),dynCall_iiiiijj=Module.dynCall_iiiiijj=createExportWrapper("dynCall_iiiiijj"),dynCall_iiiiiijj=Module.dynCall_iiiiiijj=createExportWrapper("dynCall_iiiiiijj");Module.UTF8ToString=UTF8ToString;var missingLibrarySymbols=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","ydayFromDate","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","runMainThreadEmAsm","jstoi_q","jstoi_s","listenOnce","autoResumeAudioContext","setWasmTableEntry","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayToString","AsciiToString","stringToNewUTF8","stringToUTF8OnStack","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","findMatchingCatch","setMainLoop","getSocketFromFD","getSocketAddress","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","SDL_unicode","SDL_ttfContext","SDL_audio","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","getFunctionArgsName","requireRegisteredType","registerInheritedInstance","unregisterInheritedInstance","enumReadValueFromPointer","getStringOrSymbol","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_addMethodCaller"];missingLibrarySymbols.forEach(missingLibrarySymbol);var calledRun,result,unexportedSymbols=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createLazyFile","FS_createLink","FS_createDevice","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","exitJS","getHeapMax","growMemory","ENV","setStackLimits","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","isLeapYear","arraySum","addDays","ERRNO_CODES","ERRNO_MESSAGES","setErrNo","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","getExecutableName","dynCallLegacy","getDynCaller","dynCall","getWasmTableEntry","keepRuntimeAlive","handleAllocatorInit","HandleAllocator","wasmTable","noExitRuntime","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","intArrayFromString","stringToAscii","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","writeArrayToMemory","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","getEnvStrings","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","Browser","wget","SYSCALLS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","getTypeName","getFunctionName","heap32VectorToArray","UnboundTypeError","PureVirtualError","GenericWireTypeSize","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","embindRepr","registeredInstances","getBasestPointer","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","registeredPointers","registerType","integerReadValueFromPointer","floatReadValueFromPointer","simpleReadValueFromPointer","readPointer","runDestructors","newFunc","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","deletionQueue","flushPendingDeletes","delayFunction","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_newers","emval_methodCallers"];function stackCheckInit(){_emscripten_stack_init(),writeStackCookie()}function run(){function doRun(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),assert(!Module._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),postRun()))}runDependencies>0||(stackCheckInit(),preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout((function(){setTimeout((function(){Module.setStatus("")}),1),doRun()}),1)):doRun(),checkStackCookie()))}function checkUnflushedContent(){var oldOut=out,oldErr=err,has=!1;out=err=x=>{has=!0};try{flush_NO_FILESYSTEM()}catch(e){}out=oldOut,err=oldErr,has&&(warnOnce("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),warnOnce("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)"))}if(unexportedSymbols.forEach(unexportedRuntimeSymbol),dependenciesFulfilled=function runCaller(){calledRun||run(),calledRun||(dependenciesFulfilled=runCaller)},Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();function register_relayout_on_resize(plot_id,get_size_func){window.addEventListener("resize",(function(){Plotly.relayout(plot_id,get_size_func(plot_id))}))}function new_plot_size(plot_id,width_mult,height_mult,legend_mult){var parentNode=document.getElementById(plot_id).parentNode,vw=width_mult*Math.max(parentNode.clientWidth||0,parentNode.innerWidth||0),vh=(Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),height_mult*vw);return vw<650?{width:vw,height:1.4*vw,legend:{orientation:"h",y:legend_mult*(.02515089*vw-4.37961-508202e-10*Math.pow(vw,2)+3.40451e-8*Math.pow(vw,3))}}:{width:vw,height:vh,legend:{orientation:"v",y:1}}}function set_plot_size(plot_id,width_mult=1,height_mult=.8,legend_mult=1){const get_size=plot_id=>new_plot_size(plot_id,width_mult,height_mult,legend_mult);return register_relayout_on_resize(plot_id,get_size),get_size(plot_id)}function round(val,digits=4){"string"==typeof val&&(val=Number.parseFloat(val));var mult=10**digits;return Math.round((val+Number.EPSILON)*mult)/mult}function plot2d(plot_id,data){var iterations={},slider_steps=[],frames=[],x=Array(data.rows),y=Array(data.rows);for(row=0;row<data.rows;row++)x[row]=data.get_x(row,0),y[row]=data.get_y(row);for(iteration=0;iteration<data.iterations;iteration++){var y_fit=Array(data.rows);for(row=0;row<data.rows;row++)y_fit[row]=data.get_y_fit(iteration,row);iterations[iteration]={x:x.slice(),y:y_fit.slice()}}for(iter of Object.keys(iterations))slider_steps.push({method:"animate",label:iter,args:[[iter],{mode:"immediate",transition:{duration:300},frame:{duration:300}}]});for(iter of Object.keys(iterations)){(data=[])[1]={x:iterations[iter].x.slice(),y:iterations[iter].y.slice()},frames.push({name:iter,data:data,layout:{"sliders[0].active":iter}})}Plotly.newPlot(plot_id,{data:[{x:x.slice(),y:y.slice(),type:"scatter",mode:"markers",name:"Observations"},{x:iterations[0].x.slice(),y:iterations[0].y.slice(),line:{shape:"hvh"},type:"scatter",mode:"lines",name:"Isotonic Regression"}],layout:{...set_plot_size(plot_id,width_mult=1,height_mult=.6),margin:{l:20,r:20,b:20,t:20,pad:0},showlegend:!0,sliders:[{pad:{l:130,t:55},currentvalue:{visible:!1},steps:slider_steps,active:0}],updatemenus:[{x:0,y:0,yanchor:"top",xanchor:"left",showactive:!0,active:1,direction:"left",type:"buttons",pad:{t:50,r:10},buttons:[{method:"animate",args:[null,{mode:"immediate",fromcurrent:!0,transition:{duration:300},frame:{duration:1e3}}],label:"Play"},{method:"animate",args:[[null],{mode:"immediate",transition:{duration:0},frame:{duration:0}}],label:"Pause"}]}]},config:{scrollZoom:!1,displayModeBar:!1},frames:frames})}function plot3d(plot_id,data){var iterations={},slider_steps=[],frames=[],x1=Array(data.rows),x2=Array(data.rows),y=Array(data.rows);for(row=0;row<data.rows;row++)x1[row]=data.get_x(row,0),x2[row]=data.get_x(row,1),y[row]=data.get_y(row);for(iteration=0;iteration<data.iterations;iteration++){var z_iso=Array(data.rows);for(row=0;row<data.rows;row++)z_iso[row]=data.get_y_fit(iteration,row);iterations[iteration]={z:z_iso}}for(iter of Object.keys(iterations))slider_steps.push({method:"animate",label:iter,args:[[iter],{mode:"immediate",transition:{duration:300},frame:{duration:300}}]});for(iter of Object.keys(iterations)){(data=[])[1]={z:iterations[iter].z.slice(),intensity:iterations[iter].z.slice()},frames.push({name:iter,data:data})}var total_iterations=Object.keys(iterations).length;Plotly.newPlot(plot_id,{data:[{x:x1.slice(),y:x2.slice(),z:y.slice(),mode:"markers",marker:{size:1,color:"rgb(0, 0, 0)",opacity:.8},type:"scatter3d",name:"Observations"},{x:x1.slice(),y:x2.slice(),z:iterations[0].z.slice(),intensity:iterations[0].z.slice(),cmin:Math.min.apply(Math,iterations[total_iterations-1].z),cmax:Math.max.apply(Math,iterations[total_iterations-1].z),type:"mesh3d",showscale:!1,colorscale:"YlOrRd",opacity:.5,name:"Isotonic Regression",showlegend:!0}],layout:{...set_plot_size(plot_id,width_mult=1,height_mult=.6),margin:{l:20,r:20,b:20,t:20,pad:0},showlegend:!0,sliders:[{pad:{l:130,t:55},currentvalue:{visible:!1},steps:slider_steps,active:0}],updatemenus:[{x:0,y:0,yanchor:"top",xanchor:"left",showactive:!0,active:1,direction:"left",type:"buttons",pad:{t:50,r:10},buttons:[{method:"animate",args:[null,{mode:"immediate",fromcurrent:!0,transition:{duration:300},frame:{duration:1e3}}],label:"Play"},{method:"animate",args:[[null],{mode:"immediate",transition:{duration:0},frame:{duration:0}}],label:"Pause"}]}]},config:{displayModeBar:!1},frames:frames})}function set_output(){var select=document.getElementById("iteration-select");document.getElementById("output").value=result.get_formatted(parseInt(select.value))}function set_loss_param(){var label=document.getElementById("loss-param-text"),param_input=document.getElementById("loss-param"),loss_function=document.getElementById("loss-function").value;console.log(loss_function),"L2"==loss_function?(label.innerHTML="Loss Parameter: ",param_input.disabled=!0):"HUBER"==loss_function?(label.innerHTML="Delta: ",param_input.disabled=!1,param_input.value=.5):"POISSON"==loss_function?(label.innerHTML="Loss Parameter: ",param_input.disabled=!0):"PNORM"==loss_function&&(label.innerHTML="1 < p < 2: ",param_input.disabled=!1,param_input.value=1.5)}async function run_regression(){result&&result.delete();var input=document.getElementById("input"),loss=document.getElementById("loss-function"),iterations=document.getElementById("iterations"),param=document.getElementById("loss-param");result=Module.run_iso_regression(loss.value,input.value.trim(),param.value.trim(),iterations.value),document.querySelectorAll("#iteration-select option").forEach((option=>option.remove()));for(var select=document.getElementById("iteration-select"),i=0;i<result.iterations;i++){var opt=document.createElement("option");opt.value=i,opt.innerHTML=i,select.appendChild(opt)}select.disabled=!1,select.selectedIndex=result.iterations-1,set_output()}function clear_console(){document.getElementById("console").value=""}function plot_result(){if(result)if(1==result.cols)plot2d("IsoPlot",result);else{if(2!=result.cols)return alert("plotting is only supported in 2 and 3 dimensions!"),!1;plot3d("IsoPlot",result)}else run_regression().then(plot_result)}function set_example(){document.getElementById("input").value="X_1,   y, weight\n  0,   1,      1\n  1, 2.2,     10\n  3, 1.1,      1\n  4, 1.1,      1\n  6, 1.1,      1\n 10,   4,      6\n"}function set_console_element(){runtimeInitialized?Module.set_console_element("console"):setTimeout(set_console_element,50)}function init(){set_example(),document.getElementById("iteration-select").onchange=set_output,document.getElementById("loss-function").onchange=set_loss_param,document.getElementById("run").onclick=run_regression,document.getElementById("clear").onclick=clear_console,document.getElementById("plot").onclick=plot_result,document.getElementById("example-1").onclick=set_example,document.getElementById("example-2").onclick=function(){document.getElementById("input").value=Module.generate_input_data(40,1)},document.getElementById("example-3").onclick=function(){document.getElementById("input").value=Module.generate_input_data(40,2)},set_console_element()}run(),window.onload=init;
